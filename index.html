<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bachaa Valentine</title>

<style>
body {
  margin:0;
  font-family: Georgia, serif;
  background:#ffe6eb;
  text-align:center;
  overflow:hidden;
}

.page {
  display:none;
  padding:60px 20px;
  animation: fade 0.8s ease-in-out;
}

.active { display:block; }

@keyframes fade {
  from {opacity:0;}
  to {opacity:1;}
}

h1 {
  font-size:34px;
}

p {
  font-size:20px;
  line-height:1.6;
  max-width:600px;
  margin:auto;
}

button {
  padding:14px 28px;
  font-size:18px;
  border:none;
  border-radius:25px;
  margin:15px;
  cursor:pointer;
  background:#e6004c;
  color:white;
  transition:0.3s;
}

button:hover {
  background:#ff3366;
}

.clicked {
  background:#ffd700 !important;
  color:black;
}

#noBtn {
  background:#aaa;
  font-size:12px;
}

video, audio {
  width:90%;
  max-width:320px;
  margin:15px;
}

input {
  padding:12px;
  font-size:18px;
  border-radius:10px;
  border:1px solid #ccc;
}

/* Rose petals */
.petal {
  position:fixed;
  top:-20px;
  font-size:20px;
  animation: fall linear infinite;
  opacity:0.7;
}

@keyframes fall {
  0% {transform: translateY(0) rotate(0deg);}
  100% {transform: translateY(110vh) rotate(360deg);}
}
</style>
</head>

<body>

<audio id="music" autoplay loop></audio>

<!-- PAGE 1 -->
<div class="page active" id="page1">
<h1>My Bachaa â¤ï¸</h1>
<p>Will you be my Valentine?</p>
<p id="tease"></p>
<button id="yesBtn" onclick="yesClicked()">Yes</button>
<button id="noBtn" onclick="growYes()">No</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
<h1>Our Love Story ğŸ’•</h1>
<p>This is not just a videoâ€¦ this is every moment that made me fall in love with you.</p>
<video src="story.mp4" controls></video>
<button onclick="nextPage(3,this)">Continue</button>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
<h1>Listen to My Voice ğŸ§</h1>
<p>Close your eyes and listen to my heart.</p>
<audio src="myvoice.mp3" controls></audio>

<p><b>Now itâ€™s your turn, Bachaaâ€¦ record something for me ğŸ’Œ</b></p>
<button onclick="startRecording()">ğŸ¤ Start Recording</button>
<button onclick="stopRecording()">â¹ Stop</button>
<a id="downloadLink"></a>

<button onclick="nextPage(4,this)">Next</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="page4">
<h1>My Promises ğŸ¤</h1>
<div id="promiseBox"></div>
<button onclick="showPromise(this)">Next Promise</button>
</div>

<!-- PAGE 5: DATE OPTION -->
<div class="page" id="page5">
<h1>Choose Our Date ğŸŒ¹</h1>
<p>Pick what we will do when we meet next, Bachaa.</p>

<button onclick="finalChoice(this,'Temple Visit Together')">ğŸ›• Temple Visit</button>
<button onclick="finalChoice(this,'Movie Date')">ğŸ¬ Movie Date</button>
<button onclick="finalChoice(this,'Bike Road Date')">ğŸ Bike Road Date</button>
<button onclick="finalChoice(this,'Candlelight Dinner')">ğŸ•¯ Candlelight Dinner</button>

<p id="choiceText"></p>
<button onclick="nextPage(6,this)">Continue</button>
</div>

<!-- PAGE 6: PASSWORD -->
<div class="page" id="page6">
<h1>Unlock My Final Gift ğŸ”</h1>
<p>Only Bachaa can unlock this.</p>
<input type="password" id="passwordInput" placeholder="Enter secret word">
<br><br>
<button onclick="checkPassword()">Unlock</button>
<p id="passwordMessage"></p>
</div>

<!-- PAGE 7 -->
<div class="page" id="page7">
<h1>Happy Valentineâ€™s Day Bachaa â¤ï¸</h1>
<p>
You unlocked my heart.<br><br>
You are my love, my peace, my forever.<br><br>
Forever yours,<br>
Bunty â¤ï¸
</p>
</div>

<script>
let yesSize=18;
let teaseTexts=["Are you sure Bachaa?","Think again my love","My heart is waiting","You canâ€™t say no to love"];
let teaseIndex=0;

let promises=[
"I promise to always respect you.",
"I promise to stand by you always.",
"I promise to make you smile.",
"I promise to choose you every day.",
"I promise to love you forever."
];

let promiseIndex=0;
let selectedDate="";

const correctPassword="Bachaa";
const music=document.getElementById("music");
music.src="song1.mp3";

function growYes(){
  yesSize+=6;
  yesBtn.style.fontSize=yesSize+"px";
  tease.innerText=teaseTexts[teaseIndex];
  teaseIndex=(teaseIndex+1)%teaseTexts.length;
}

function yesClicked(){
  nextPage(2);
}

function nextPage(n,btn){
  if(btn) btn.classList.add("clicked");
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById("page"+n).classList.add("active");

  if(n==2) music.src="song2.mp3";
  if(n==3) music.src="song3.mp3";
  if(n>=4) music.src="song4.mp3";
}

function showPromise(btn){
  btn.classList.add("clicked");
  if(promiseIndex<promises.length){
    promiseBox.innerHTML=
      "<p>"+promises[promiseIndex]+"</p>"+
      "<p><b>Bachaa accepts â¤ï¸</b></p>"+
      "<p><b>Bunty promises ğŸ¤</b></p>";
    promiseIndex++;
  } else {
    nextPage(5);
  }
}

function finalChoice(btn,choice){
  document.querySelectorAll("#page5 button").forEach(b=>b.classList.remove("clicked"));
  btn.classList.add("clicked");
  selectedDate=choice;
  choiceText.innerText="We will go for: "+choice+" â¤ï¸";
}

function checkPassword(){
  const input=document.getElementById("passwordInput").value;
  if(input===correctPassword){
    nextPage(7);
  } else {
    passwordMessage.innerText="Wrong wordâ€¦ try again my love â¤ï¸";
  }
}

/* Voice recording */
let mediaRecorder;
let audioChunks=[];

function startRecording(){
  navigator.mediaDevices.getUserMedia({ audio:true })
  .then(stream=>{
    mediaRecorder=new MediaRecorder(stream);
    mediaRecorder.start();
    audioChunks=[];
    mediaRecorder.ondataavailable=e=>audioChunks.push(e.data);
  });
}

function stopRecording(){
  mediaRecorder.stop();
  mediaRecorder.onstop=()=>{
    const blob=new Blob(audioChunks,{type:'audio/mp3'});
    const url=URL.createObjectURL(blob);
    const link=document.getElementById("downloadLink");
    link.href=url;
    link.download="Bachaa_voice_message.mp3";
    link.innerText="â¬‡ Download & Send to Bunty";
  };
}

/* Rose petals */
function createPetal(){
  const p=document.createElement("div");
  p.className="petal";
  p.innerText="ğŸŒ¹";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDuration=(6+Math.random()*4)+"s";
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),10000);
}
setInterval(createPetal,1200);
</script>

</body>
</html>
